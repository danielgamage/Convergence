function getDimensions(){playerHeight=player.clientHeight,playerBox=player.getBoundingClientRect(),playerOffset={top:playerBox.top+document.body.scrollTop,left:playerBox.left+document.body.scrollLeft}}function setPositions(a){if(0==playerHeight)return void getDimensions();var b=a.pageY-playerOffset.top,c=Math.max(Math.min(b/playerHeight,inputs.max),inputs.min),d=convert(c);eyeLeft.style.transform="translateX("+-1*d+"%)",eyeRight.style.transform="translateX("+d+"%)"}function convert(a){var b=(inputs.max-inputs.min,outputs.max-outputs.min,(a-inputs.min)/(inputs.max-inputs.min)*(outputs.max-outputs.min)+outputs.min);return b}var playerHeight,playerBox,player=document.querySelector("[data-stereoplayer]"),outMin=parseFloat(player.getAttribute("data-stereo-min")),outMax=parseFloat(player.getAttribute("data-stereo-max")),eyeLeft=player.querySelector('[data-eye="left"]'),eyeRight=player.querySelector('[data-eye="right"]'),outputs={min:outMin?outMin:-1,max:outMax?outMax:1},inputs={max:1,min:0};getDimensions(),window.onresize=getDimensions,player.addEventListener("mousemove",setPositions,!1),player.addEventListener("touchmove",function(a){a.preventDefault(),setPositions(a.touches[0])},!1);