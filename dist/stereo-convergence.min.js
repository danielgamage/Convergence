function clipImage(){var a=Math.max(Math.abs(outputs.min),Math.abs(outputs.max)),b=-1*a+"%",c=2*a+100+"%";eyeLeft.style.maxWidth=c,eyeLeft.style.marginLeft=b,eyeRight.style.maxWidth=c,eyeRight.style.marginLeft=b}function getDimensions(){playerHeight=player.clientHeight,playerBox=player.getBoundingClientRect(),playerOffset={top:playerBox.top+document.body.scrollTop,left:playerBox.left+document.body.scrollLeft}}function setPositions(a){if(playerHeight==player.clientHeight)return void getDimensions();var b=a.pageY-playerOffset.top,c=Math.max(Math.min(b/playerHeight,inputs.max),inputs.min),d=convert(c);eyeLeft.style.transform="translateX("+-1*d+"%)",eyeRight.style.transform="translateX("+d+"%)"}function convert(a){var b=(inputs.max-inputs.min,outputs.max-outputs.min,(a-inputs.min)/(inputs.max-inputs.min)*(outputs.max-outputs.min)+outputs.min);return b}var playerHeight,playerBox,player=document.querySelector("[data-stereoplayer]"),outMin=parseFloat(player.getAttribute("data-stereo-min")),outMax=parseFloat(player.getAttribute("data-stereo-max")),eyeLeft=player.querySelector('[data-eye="left"]'),eyeRight=player.querySelector('[data-eye="right"]'),outputs={min:outMin?outMin:-1,max:outMax?outMax:1},clip=player.getAttribute("data-stereo-clip")?player.getAttribute("data-stereo-clip"):!0,inputs={max:1,min:0};getDimensions(),window.onresize=getDimensions,1==clip&&clipImage(),player.addEventListener("mousemove",setPositions,!1),player.addEventListener("touchmove",function(a){a.preventDefault(),setPositions(a.touches[0])},!1);